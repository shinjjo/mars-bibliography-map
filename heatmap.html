 
<html>
  <head>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css">
    <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script> 
    <script src='//api.tiles.mapbox.com/mapbox.js/plugins/leaflet-omnivore/v0.3.1/leaflet-omnivore.min.js'></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/8.5.1/nouislider.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/8.5.1/nouislider.min.js"></script>
    <style>
     #map {width: 100%; height: 100%}
   </style>
   <script>
   var slidervar = document.getElementById('slider');
    noUiSlider.create(slidervar, {
    connect: true,
    start: [ 1, 35676000 ],
    range: {
        min: 1,
        max: 35676000
    }
    });
  </script>
  </head>
  <body>
    <div id="map"></div>
    <script>
      var token = "pk.eyJ1Ijoic2hpbmpqbyIsImEiOiJjajlzaGZscTUwamlvM3VwZ2xvbHlvdnh2In0.FX5GpnQsst-vqywi0jIb1A";
      var map = L.map('map').setView([0, 0], 2.8);
        L.tileLayer('https://cartocdn-ashbu.global.ssl.fastly.net/nmanaud/api/v1/map/named/opm-mars-basemap-v0-1/all/{z}/{x}/{y}.png', {maxZoom: 18, attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, &copy; <a href="https://carto.com/attribution">CARTO</a>'
      }).addTo(map);



$.getJSON("mapdata.geojson",function(hoodData){
  L.geoJson( hoodData  , {
    style: function(feature){
      var fillColor,
          number_of_papers = feature.properties.number_of_papers;
      if ( number_of_papers > 1000 ) fillColor = "#800026";
      else if ( number_of_papers > 500 ) fillColor = "#BD0026";
      else if ( number_of_papers > 20 ) fillColor = "#E31A1C";
      else if ( number_of_papers > 10 ) fillColor = "#FC4E2A";
      else if ( number_of_papers > 10 ) fillColor = "#FD8D3C";
      else if ( number_of_papers > 0 ) fillColor = "#FED976";
      else fillColor = "#FFEDA0";  // no data
      return { color: "#999", weight: 1, fillColor: fillColor, fillOpacity: .6 };
    },


    onEachFeature: function( feature, layer ){
      layer.bindPopup( "<strong>" + feature.properties.Clean_Feature_Name + "</strong><br/>" + "Number of Papers: " + feature.properties.number_of_papers + "<br/>" + "Number of Citing Papers: " + feature.properties.number_of_citing_papers + "<br/>" + "Number of self citations: " + feature.properties.number_of_self_citations + "<br/>" + "Total number of citations: " + feature.properties.total_number_of_citations + "<br/>" + "Number of referred citations: " + feature.properties.total_number_of_refereed_citations )
    }
  }  ).addTo(map);

 


});


    </script>
  </body>
</html>
